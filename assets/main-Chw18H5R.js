import*as t from"https://cdn.skypack.dev/three@0.159.0";import{OrbitControls as l}from"https://cdn.skypack.dev/three@0.159.0/examples/jsm/controls/OrbitControls.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}})();class u{constructor(){this.canvas=document.querySelector("#earth-canvas"),this.canvas||(this.canvas=document.createElement("canvas"),this.canvas.id="earth-canvas",document.body.insertBefore(this.canvas,document.body.firstChild)),this.scene=new t.Scene,this.camera=new t.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),this.renderer=new t.WebGLRenderer({canvas:this.canvas,antialias:!0,alpha:!0,powerPreference:"high-performance"}),this.controls=null,this.earth=null,this.stars=null,this.textureLoader=new t.TextureLoader,this.textureLoader.setPath("/ThomasBakerTechPortfolio/textures/"),this.init()}init(){console.log("Initializing Earth scene..."),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.setClearColor(0,0),this.camera.position.z=5,this.controls=new l(this.camera,this.renderer.domElement),this.controls.enableDamping=!0,this.controls.dampingFactor=.05,this.controls.rotateSpeed=.5,this.controls.enableZoom=!1,this.createEarth(),this.createStars();const n=new t.AmbientLight(16777215,.5);this.scene.add(n);const i=new t.DirectionalLight(16777215,1);i.position.set(5,3,5),this.scene.add(i),window.addEventListener("resize",this.onWindowResize.bind(this)),this.animate(),console.log("Earth scene initialized")}createEarth(){console.log("Creating Earth...");const n=new t.SphereGeometry(2,64,64),i=o=>new Promise(e=>{console.log(`Loading texture: ${o}`),this.textureLoader.load(o,r=>{console.log(`Successfully loaded texture: ${o}`),e(r)},void 0,r=>{console.error(`Failed to load texture: ${o}`,r),e(null)})});Promise.all([i("earth_daymap.jpg"),i("earth_normal.jpg"),i("earth_specular.jpg")]).then(([o,e,r])=>{console.log("All textures loaded, creating Earth material");const s=new t.MeshPhongMaterial({map:o,normalMap:e,specularMap:r,normalScale:new t.Vector2(.5,.5),shininess:25});this.earth=new t.Mesh(n,s);const c=new t.SphereGeometry(2.1,64,64),h=new t.MeshPhongMaterial({color:30719,transparent:!0,opacity:.2,side:t.BackSide}),d=new t.Mesh(c,h);this.earthGroup=new t.Group,this.earthGroup.add(this.earth),this.earthGroup.add(d),this.earthGroup.rotation.z=t.MathUtils.degToRad(23.5),this.scene.add(this.earthGroup),console.log("Earth created and added to scene")})}createStars(){console.log("Creating stars...");const n=new t.BufferGeometry,i=new t.PointsMaterial({color:16777215,size:.1,transparent:!0}),o=[];for(let e=0;e<1e4;e++){const r=(Math.random()-.5)*2e3,s=(Math.random()-.5)*2e3,c=-Math.random()*2e3;o.push(r,s,c)}n.setAttribute("position",new t.Float32BufferAttribute(o,3)),this.stars=new t.Points(n,i),this.scene.add(this.stars),console.log("Stars created and added to scene")}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}animate(){requestAnimationFrame(this.animate.bind(this)),this.earthGroup&&(this.earthGroup.rotation.y+=.001),this.controls.update(),this.renderer.render(this.scene,this.camera)}}document.addEventListener("DOMContentLoaded",()=>{if(console.log("DOM loaded, checking WebGL support..."),!window.WebGLRenderingContext){console.error("WebGL is not available in your browser");return}try{console.log("Creating Earth scene..."),new u}catch(a){console.error("Error initializing Earth scene:",a)}});
//# sourceMappingURL=main-Chw18H5R.js.map
